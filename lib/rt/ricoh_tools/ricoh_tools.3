.TH RICOH_TOOLS 3 "$Date: 2005/03/03 01:39:53 $"
.SH NAME
ricoh_tools\- experimental perl routines to acquire images from a Ricoh i700 camera
.SH SYNOPSIS
.nf
( $jpgdata, $base_filename, $timestamp ) =
	acquire_i700_image( $browser, $address );

delete_i700_images( $browser, $address );
.fi
.SH DESCRIPTION
acquire_i700_image connects to a Ricoh i700 camera, capturing and 
returning a JPEG image along with it's base filename on the camera
and the timestamp (converted to epoch time) embedded in the JPEG 
image. 

delete_i700_images deletes all the images on the camera. 

Both of these routines take an object of type LWP::UserAgent(3), and 
the address of the camera, usually an IP address preceded by "http://". 

.SH OPTIONS
If $opt_V is set, ricoh_tools will provide details on the data acquisition 
process as it runs. Because this creates a fair amount of output, capital "V" 
is used to support a "Very Verbose" option in the actual program.

If $opt_s is set, ricoh_tools will save each interaction with the camera
in a separate file, useful for debugging and development. 
.SH FILES
.SH ENVIRONMENT
.SH PARAMETER FILE
.SH EXAMPLE
.ft CW
.in 2c
.nf

: # use perl
eval 'exec perl -S $0 "$@"'
if 0;

require "ricoh_tools.pl";

$Camera_ip = "198.202.124.7";
$Camera_address = "http://$Camera_ip";
$outputfile = "output.jpg";
$image_srcname = "tsh_sidewalk_cam/EXP/IMG";
$description = "Ricoh i700 Camera at $Camera_ip";

unlink( "$outputfile" );

$browser = new LWP::UserAgent;
$browser->agent( "TestScript/0.1 " . $browser->agent );

( $jpgdata, $base_filename, $timestamp ) =
	 acquire_i700_image( $browser, $Camera_address );

delete_i700_images( $browser, $Camera_address );

open( O, ">$outputfile" );
print O $jpgdata;
close( O );

.fi
.in
.ft R
.SH RETURN VALUES
.SH LIBRARY
.SH DIAGNOSTICS
.SH "SEE ALSO"
.nf
image2orb(3), LWP(3), LWP::UserAgent(3), HTTP::Request::Common(3)
.fi
.SH "BUGS AND CAVEATS"
This is a development prototype
.SH AUTHOR
.nf
Kent Lindquist
Lindquist Consulting

This script is a recast of a script by Hans-Werner Braun, who 
developed this acquisition strategy and found the appropriate commands. 
.fi
.\" $Id: ricoh_tools.3,v 1.3 2005/03/03 01:39:53 anoncvs Exp $
