.TH CAYAN2ORB 1 "$Date: 2003/10/07 19:43:26 $"
.SH NAME
cayan2orb \- communicate with Dan Cayan's climate research stations and create MGENC packets
.SH SYNOPSIS
.nf
cayan2orb [-v] [-V] [-p serialport] [-n netname] [-o $ORB]
.fi
.SH DESCRIPTION
cayan2orb listens on a serial port at 19.2k baud (default: /dev/ttySA1). It listens for packets and checks their fletcher encoding. If a valid packet is received it sends an ACK and places it in the orb. If not, it sends a NACK. Since the data logger protocol is buggy there is a chance of duplicate data or lost data. We discriminate against valid packets to remove duplicates. We can not increase the reliability of the stream from this end. In actual implementations these met stations are usually connected to free wave radios and a central orb listens on another free wave radio. Each station is given a time slice to transmit and this code sorts out the mess on the receiving side. Since there is no recovery of data available, there is no state information to save. In order to recover lost data, a person must remove the flash card of the logger in the field. 

Sample rates are sent along with the data from the logger. So one application may deal with sensors opperating at multiple rates.
.SH OPTIONS
.nf
-V		 	print version and usage, then exit
-v			verbose mode, even prints all characters received over 
			serial port
-p serialport		serial port to listen to (/dev/ttySA1 default) 19.2 kbaud
-n netname	set the network name (2 chars) for the packets (default=HM)
-o $ORB		send data to this orb (default = ":")
.fi
.SH EXAMPLE
 cayan2orb -p /dev/ttyS3 -o roadnet-orb:
.ft CW
.in 2c
.nf
.fi
.in
.ft R
.SH LIBRARY
Requires antelope 4.5 or newer.
.SH DIAGNOSTICS
use -v to see step by step diagnostics
.SH "BUGS AND CAVEATS"
This application is most likely not the cause of the problem. Check the data coming from the data logger first.
.SH AUTHOR
.nf
Todd Hansen
UCSD/ROADNet Project
.fi
