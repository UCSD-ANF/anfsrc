.TH HANDLE\-UPS\-TRAP 1 "$Date: 2005/09/13 20:18:44 $"
.SH NAME
handle\-ups\-trap \- a Nagios SNMP trap handler for Powerware 9125 UPSes 
.SH SYNOPSIS
.nf
Usage: ./handle\-ups\-trap
.fi

.SH DESCRIPTION
handle\-ups\-trap is intended to be used as an SNMP trap event handler
for the Nagios network monitoring system (www.nagios.org). It can be
installed under the same process outlined in the Nagios manual for passive
SNMP trap collection. This generally involves making a passive, volitile
service for a host, running snmptrapd at boot, putting a traphandle
command in the /etc/snmptrapd.conf file, adding this handler to the
$NAGIOS_HOME/libexec/eventhandler directory, and using the submit script
included in the Nagios documentation.

.SH OPTIONS 
There are no command line options for this handler, but it expects to be 
fed input from STDIN. It should get the IP address on the first line, the 
hostname on the second, then the SNMP variables for the trap on the 
following lines. This typically includes an alarmId, alarmDescr, and a 
trap message. 

.SH "BUGS AND CAVEATS" 
Since this handler is somewhat specific to the
Powerware 9125 system and its MIB (which may be shared throughout the
product line), it will need modification for other equipment that uses 
other MIBs. With little modification, it should handle the standard 
UPS\-MIB definitions, but is designed to handle XUPS\-MIB traps now. It 
will 
need to be modified to handle specific machines and severity levels as 
things change.

.SH AUTHOR
.nf
Steve Foley
Scripps Institution of Oceanography
.fi
