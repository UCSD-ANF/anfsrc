.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.47.5.
.TH SYNC_GPS_ARCHIVE "1" "November 2017" "sync_gps_archive 1.0" "User Commands"
.SH NAME
sync_gps_archive \- manual page for sync_gps_archive 1.0
.SH DESCRIPTION
usage: sync_gps_archive [\-h] [\-V] [\-v] [\-d] [\-\-demo] [\-\-delete] [\-\-user USER]
.TP
[\-\-password PASSWORD] [\-\-maxattempts MAXATTEMPTS]
[\-\-maxfiles MAXFILES] [\-\-maxbytes MAXBYTES]
[\-\-filter FILTER] [\-\-agelimit AGELIMIT]
[\-\-datelimit DATELIMIT]
ftpServer archive
.PP
Tool to keep Trimble FTP archive in sync to a local repo. Defaults to
files ending in .T00 but you can change this in the flags. It will keep
the directory structure encounter at the remote site. Files will problems
will be appended with a string "_trash_" and a number. There is a default
of 6 attempts per file. After this, the file will be ignored. You can also
set the number of files to download on a single run or the maximum data
that can be downloaded on a  single attempt.
.PP
The list of files could be limited by a set date with a flag \fB\-\-datelimit\fR
and no files older than that date will be downloaded. The format is
"2017/12/31".  There is  also a  time window limit if you only want to
download files within a rolling time window from realtime. This is done
with the flag \fB\-\-agelimit\fR and the format is a number and a string from the
list  [days, weeks,  months,  years](with or  without the  s at the end)
without spaces. i.e. "2weeks" or "90days".
.PP
There is a flag to remove files from the remote archive after a successful
download to the local archive. This is verified by looking at the size of
the local file and the reported size from the FTP server. All file size
metrics are reported in bytes. The \fB\-\-maxbytes\fR flag also uses bytes to limit
the total bandwidth used for each run.
.SS "positional arguments:"
.TP
ftpServer
FTP server
.TP
archive
Local archive
.SS "optional arguments:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-V\fR, \fB\-\-version\fR
show program's version number and exit
.TP
\fB\-v\fR, \fB\-\-verbose\fR
Run in verbose mode.(default: False)
.TP
\fB\-d\fR, \fB\-\-debug\fR
Run FTP connection in debug mode.(default: False)
.TP
\fB\-\-demo\fR
DEMO or NULL run. Just show corrections.(default: False)
.TP
\fB\-\-delete\fR
Set if you want to clean out the remote directory.(default: False)
.TP
\fB\-\-user\fR USER
FTP username.(default: None)
.TP
\fB\-\-password\fR PASSWORD
FTP password.(default: None)
.TP
\fB\-\-maxattempts\fR MAXATTEMPTS
Limit the amount of times to retry a single file.(default: 6)
.TP
\fB\-\-maxfiles\fR MAXFILES
Limit the amount of files to downlaod.(default: None)
.TP
\fB\-\-maxbytes\fR MAXBYTES
Limit the amount of bytes to downlaod.(default: None)
.TP
\fB\-\-filter\fR FILTER
Filter for data files. Default to ".*T00$".(default: .*T00$)
.TP
\fB\-\-agelimit\fR AGELIMIT
Avoid older than a set timewindow. ie. "1month", "4weeks" or "60days".(default: None)
.TP
\fB\-\-datelimit\fR DATELIMIT
Only files after this date. ie. "2017/11/03". (default: None)
.SS "PROCESS:"
.IP
The algorithm is the following:
.IP
1. input ftp site
.IP
2. creates daily directories for raw and rinex files in top_folder
.IP
3. retrieves RINEX T00 trimble native format file
.IP
4. deletes the intermediate trimble dat files
.IP
Program should run automatically once a day using crontab
.SS "MISSING:"
.IP
Converts trimble data files to RINEX files (.17o)
.IP
Run teqc to create a qc report (.17S)
.IP
Run hatanaka compresses then unix compresses the rinex .17o files
.SH AUTHOR
Written by Juan Reyes <reyes@ucsd.edu>
.SS "EXAMPLE:"
.IP
sync_gps_archive.py \fB\-v\fR \fB\-\-maxfiles\fR=\fI\,2\/\fR \fB\-\-user\fR=\fI\,anonymous\/\fR \fB\-\-password=\fR'jhaase@ucsd.edu' 139.78.120.60 \fI\,~/repos/temp\/\fP
.SH "REPORTING BUGS"
Report bugs to Juan Reyes <reyes@ucsd.edu>.
.SH COPYRIGHT
Copyright \(co 2017, The Regents of the University of California
All rights reserved.
.PP
Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:
.IP
1. Redistributions of source code must retain the above copyright notice, this
.IP
list of conditions and the following disclaimer.
.IP
2. Redistributions in binary form must reproduce the above copyright notice,
.IP
this list of conditions and the following disclaimer in the documentation and/or
other materials provided with the distribution.
.PP
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
